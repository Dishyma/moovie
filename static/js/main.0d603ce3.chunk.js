(this.webpackJsonpmoovie=this.webpackJsonpmoovie||[]).push([[0],{28:function(e,t,a){},30:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(20),r=a.n(n),i=(a(28),a(5)),o=a.n(i),l=a(9),u=a(4),d=(a(30),a(10)),b=a.n(d),j=a(0),m=function(e){var t=e.movie,a=e.selectMovie;return Object(j.jsx)("div",{onClick:function(){return a(t)},className:"movie",children:Object(j.jsxs)("div",{className:"movie-title",children:[t.poster_path&&Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w342"+t.poster_path,alt:t.title}),Object(j.jsxs)("div",{className:"flex between movie-infos",children:[Object(j.jsx)("h5",{className:"movie-title",children:t.title}),t.vote_average?Object(j.jsx)("span",{className:"movie-voting",children:t.vote_average}):null]})]})})},p=a(21);var v=function(){var e="https://api.themoviedb.org/3/",t="bfc4989cd0e09cbd9fb6f3dacba422c8",a=Object(s.useState)(!1),c=Object(u.a)(a,2),n=c[0],r=c[1],i=Object(s.useState)(null),d=Object(u.a)(i,2),v=d[0],h=d[1],O=Object(s.useState)([]),f=Object(u.a)(O,2),x=f[0],g=f[1],y=Object(s.useState)(""),N=Object(u.a)(y,2),w=N[0],k=N[1],_=Object(s.useState)({title:"Loading Movies"}),S=Object(u.a)(_,2),C=S[0],I=S[1];Object(s.useEffect)((function(){M()}),[]);var M=function(){var e=Object(l.a)(o.a.mark((function e(a){var s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a&&a.preventDefault(),e.next=3,b.a.get("".concat(w?"https://api.themoviedb.org/3/search/movie":"https://api.themoviedb.org/3/discover/movie"),{params:{api_key:t,query:w}});case 3:if(s=e.sent,c=s.data,console.log(c.results[0]),g(c.results),I(c.results[0]),!c.results.length){e.next=11;break}return e.next=11,z(c.results[0].id);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var a=Object(l.a)(o.a.mark((function a(s){var c,n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.get("".concat(e,"movie/").concat(s),{params:{api_key:t,append_to_response:"videos"}});case 2:c=a.sent,(n=c.data).videos&&n.videos.results&&(r=n.videos.results.find((function(e){return"Official Trailer"===e.name})),h(r||n.videos.results[0])),I(n);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),E=function(e){z(e.id),r(!1),I(e),window.scrollTo(0,0)};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("header",{className:"center-max-size header",children:[Object(j.jsx)("span",{className:"brand",children:"MOOVIE"}),Object(j.jsxs)("form",{className:"form",onSubmit:M,children:[Object(j.jsx)("input",{className:"search",type:"text",id:"search",onInput:function(e){return k(e.target.value)}}),Object(j.jsx)("button",{className:"submit-search",type:"submit",children:Object(j.jsx)("i",{className:"fa fa-search"})})]})]}),x.length?Object(j.jsxs)("main",{children:[C?Object(j.jsx)("div",{className:"poster",style:{backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 1)), url(".concat("https://image.tmdb.org/t/p/w1280").concat(C.backdrop_path,")")},children:n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p.a,{videoId:v.key,className:"youtube amru",containerClassName:"youtube-container amru",opts:{width:"100%",height:"100%",playerVars:{autoplay:1,controls:0,cc_load_policy:0,fs:0,iv_load_policy:0,modestbranding:0,rel:0,showinfo:0}}}),Object(j.jsx)("button",{onClick:function(){return r(!1)},className:"button close-video",children:"Close"})]}):Object(j.jsx)("div",{className:"center-max-size",children:Object(j.jsxs)("div",{className:"poster-content",children:[v?Object(j.jsx)("button",{className:"button play-video",onClick:function(){return r(!0)},type:"button",children:"Play Trailer"}):"Sorry, no trailer available",Object(j.jsx)("h1",{children:C.title}),Object(j.jsx)("p",{children:C.overview})]})})}):null,Object(j.jsx)("div",{className:"center-max-size container",children:x.map((function(e){return Object(j.jsx)(m,{selectMovie:E,movie:e},e.id)}))})]}):"Sorry, no movies found"]})};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.0d603ce3.chunk.js.map